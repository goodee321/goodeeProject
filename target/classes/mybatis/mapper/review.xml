<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.nike.web.mapper.ReviewMapper">
	
	<!-- 전체 레코드 갯수 -->
	<select id="selectReviewCount" resultType="Integer">
		SELECT COUNT(REVIEW_NO)
		  FROM REVIEW
	</select>

	<!-- 목록 -->
	<select id="selectReviews" parameterType="Map" resultType="ReviewDTO">
		SELECT ORDER_NO, PRO_NO, MEMBER_NO, REVIEW_TITLE, REVIEW_CONTENT, REVIEW_DATE, REVIEW_STAR
		  FROM REVIEW
		 ORDER BY REVIEW_NO DESC LIMIT #{beginRecord}, #{endRecord}
	</select>
	
	<!-- 리뷰 정보 -->
	<select id="selectReviewByNo" parameterType="Integer" resultType="ReviewDTO">
		SELECT ORDER_NO, REVIEW_TITLE, REVIEW_CONTENT, REVIEW_SATR
		  FROM REVIEW
		 WHERE REVIEW_NO = #{reviewNo}
	</select>
	
	<!-- 삽입(넘버값들 수정해야함) -->
	<insert id="insertReview" parameterType="ReviewDTO">
		INSERT INTO REVIEW
			(ORDER_NO, PRO_NO, MEMBER_NO, REVIEW_TITLE, REVIEW_CONTENT, REVIEW_DATE, REVIEW_STAR)
		VALUES
			(null, null, '1', #{reviewTitle}, #{reviewContent}, NOW(), #{reviewStar})
	</insert>
	


</mapper>